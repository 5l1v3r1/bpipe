========== Changes for Bpipe Version 0.9.8.4 ============

-    fix __bpipe_lazy_resource_threads__ appearing in
     output when commands fail instead of real value of $threads

-    fix __bpipe_lazy_resource_threads__ appearing in
     command log instead of real value of $thread

-    prevented tools being probed more often than needed

-    moved throttling of command execution into separate
     class, applied throttling to tool probing so as to lessen chances
     of exhausting threads or file handles when running with 
     large numbers of inputs and highly parallel pipelines

-    fix log.warn causing any UNKNOWN status code return
     from PBS/Torque to exit with error instead of retrying

-    fix filter transforms sometimes basing output file
     on wrong input 

-    preliminary SLURM support via Andrew Lonsdale (thanks!)

-    when a command is configured with to use a specific
     number of procs, that should override the magic $threads
     variable value

-    PBS / Torque support not sending memory config for
     queues other than 'batch' or 'smp'

-    hack: add ability to put extra classes into
     $BPIPE_LIB/extra-lib.jar for use in pipeline script

-    don't convert outputs containing paths to output
     folder

-    further support for inputs that are directories -
     prevent checking of timestamp of directory, search the 
     full output tree instead of just immediate inputs to stage 
     when a directory input is requested

-    fix glob outputs not recognized as already created
     when in explicitly set output folder

-    fix "using" construct causing diagrams to fail

-    fixed diagram failure on nested parallel section, and
     when a parallel section is the root element in the pipeline

-    fix diagrams failing with exception stack trace when
     pipeline is split by chromosome

-    fix diagrams not working when only a single stage
     defined in pipeline

-    add support for transform(".xml") to(".csv") { }
     style syntax (experimental)

-    better error message for referencing undefined function

-    fixed branch names including directory portions of
     input file paths when split on files from other directory

-    ensure variables can be overriden from the command
     line

-    show all commands when test mode aborts a multi
     command

-    option to show only output from single thread with
     bpipe log -t


========== Changes for Bpipe Version 0.9.8.3 ============


-    fix input not resolved by from / input ext when
     reference embedded in nested

-    fix %bin% expansion incorrect when tool command is
     part of the full path containing the tool itself - eg:
     /usr/local/bwa/bwa-0.5.9/bwa

-    fix possible double period in output file name (regression)

-    fix references to output.dir causing outputs to be
     inferred even when no outputs actually decided yet for
     stage (eg: before produce / transform / filter, etc.).

-    fix backslashes in file paths causing invalid output
     paths on Windows

-    fixed failures when files without extensions created
     as outputs / inputs

-    run commands using -e option with bash so that failure
     of any command within script results in abort

-    nicer error message when a filter encounters the
     situation that no inputs were provided

-    fix transform producing same output as input when
     output file of same type as input

-    add support for closure as value for variable default
     to compute default value at runtime, prevent referencing  
     unless actually needed (useful eg: if the default should be 
     an input when not provided)

-    attempt to fix out-of-order execution of pipelines
     that start with list and append stages after

-    support for "requires" to specify required parameters
     for a pipeline stage

-    support for multiple paths in BPIPE_LIB

-    support for script files in BPIPE_LIB (in addition
     to folders of scripts)

-    support for ordering of execution of modules in
     BPIPE_LIB

-    fix output files not merged correctly when multiple
     levels of nested
     parallel segments end at same point

-    updated to add withFlag for more stringent test case

-    changed build to use manually downloaded gridgain lib
     (GridGain pulled their repo support :-( )


========== Changes for Bpipe Version 0.9.8.1 ============

-  fix double spaced output

-  fix input.size() and inputs.size() throwing exceptions

-  fix potential incorrect output inferred in filter operation,
   causing 'expected output not found' error in some filter 
   scenarios

========== Changes for Bpipe Version 0.9.8.1 ============

-    Fix race condition causing occasional null pointer
     exception, making param_nested_parallel test fail

-    fix exception when using bpipe preserve

-    fix potential leading semicolon when executing command

-    fix for incorrect input inferred by filter if actual
     input used different to those supplied by previous stage

-    fixed regression causing '..' in filenames from output
     extension that operates like transform

-    fix double period in inferred output names when no
     explicit filter / transform present

-    fixed dependencies working incorrectly with produce; stage skipped even if
     actual inferred / used input was newer than actual inferred output

-    fix multiple instances of Bpipe running R scripts
     clashing other

-    support for "diagramOrientation="vertical" in
     bpipe.config to change orientation of diagrams

-    fix diagrams not generating correctly for some
     pipeline architectures

-    fix commands used to generate outputs sometimes
     displaying as "..." when using "bpipe query"

-    improvements to tool database - more links, better
     descriptions, etc.

-    to prevent some of the massive output 
     that comes from large pipelines when re-executing, buffer
     messages unless a stage actually does something.

-    support for producing custom reports, named by
     command line

-    added source for software schedule report

-    fix input ext on output with index referencing
     wrong output

-    fix cleanup not removing directory

-    fix glob on output folder not working

-    fixed output explicitly specified in produce() to be
     in folder still remapped to default output dir

-    added alternative bpipe runner that runs in background

-    fixed filterInputs still not working right with chr()
     behavior now defaults based on whether the input files contain
     chromosome references rather than always filtering


========== Changes for Bpipe Version 0.9.8 ============
 
-   fixed problems with quoted args becoming unquoted during launch
    (so eg: bpipe execute 'foo + bar' would not work)

-   fixed 'bpipe retry' not working with quoted arguments
    in commands

-   fixed filter sometimes incorrectly refusing to allow output files that
    should work basd on used inputs

-  fix $input1 not resolving in commands if there is only one input

-  fix no information about outputs printed when too many outputs

-  added 'withFlag' function on $inputs, $inputs.<ext> variables for easily
   adding multiple inputs with the same flag (eg: ${inputs.bam.withFlag("-I")})

-  strip leading spaces from commands when joining lines together for execution
   (prevent whitespace bloat in command log)

-  jobid now prepended in history file

-  support to retry specified job from history using
   bpipe retry <jobid>

-  prevent bpipe commands that fail with invalid
   arguments from getting logged in history

-  don't log full path to bpipe executable in history
   file (breaks if bpipe location / version changes)

-   fixed files failing to get cleaned up if same file was
    previously cleaned up + added warning if cleanup fails

-   fixed filter followed by from potentially resolving
    its own stage output as input

-   fix for mt issue around pipeline inputs (causing
    parallel_same_stage_outputs test to fail if you run
    it many times) - regression from beta 3/4

-   support for @intermediate and @accompanies
    (experimental) annotations

-   fixed failure to cleanup outputs that are inferred from output file
    extensions rather than transform / filter / produce when pipeline 
    stage fails

-   fixed multiple references to multiinput properties
    resulting in duplicated / missed outputs

-   fixed reference to inputs variable followed by
    reference to input variable returning wrong results

-   fixed later stages not resolving inputs from non-final
    stages in prior nested parallel segments

=========== Changes for Bpipe Version 0.9.8_beta_5 ============

-   more fixes to make config{} work properly
    fixed 'config' not working / failing to execute
    commands
-   fix parallel branches created from file pattern split
    not using split files as basis for outputs sometimes

=========== Changes for Bpipe Version 0.9.8_beta_4 ============

-   support for multiple split characters in input matching patterns

-   support for config closure to enable config across multiple commands or
    when using "multi"

-   slightly better messaging when skipping command due to existence, not
    based on time stamp

-   fix display of output to stderr when version probe command fails
    - send to log instead

-   experimental chaining of from and filter / transform

-   fix "from" causing original inputs not to be queried for files in some
    situations

-   fix "filter" nested in "from" failing to infer correct output when output 
    based on input other than input in "from" clause

-   fix possible exception when using $output.prefix

-   fixed second and later stages in nested parallel segments not always
    resolving correct inputs

-   fix attempts to use "split" in input variables failing (regression)

-   added support for use of "region" variable without genome or chr splitting
    to allow generic pipeline stages that can work with or without regions 
    specified
    
-   added command line option ("-L") to specify default value of region variable
    
-   fixed "from" to match multiple inputs if used in form from("*.txt") etc.

-   Added example for how to run paired end reads

-   fix output extension causing wrong / confusing behavior when incombination
    with a filter and unexpected input order

-   fix bpipe command leaving out eclipse folder from classpath

=========== Changes for Bpipe Version 0.9.8_beta_3 ============

-   Updated underlying groovy implementation to Groovy 2.1

-   Add "pre-existing" label to display of outputs that 
    weren't genereated by the current run

-   fix error when creating File objects from input /
    output

-   support for using numbered outputs with file extensions
    (eg: $output2.txt)

-   fixed outputs sometimes being recreated unnecessarily
    when multiple commands inside transform/filter

-   support for implicit 'thread' variable for auto
    allocating threads based on known concurrency

-   fixed duplicate output files for $output1,
    $output2,... if pipeline has no input files

-   fix jobs not always cleaned up from global job table

-   support for referencing a particular input with a
    particular extension using "$input<n>.<ext>"

-   fixed double period appearing in some file names when
    using filter

-   fixed order of output from "glob" depending on the
    vagaries of the file system or java internals by
    sorting it

-   made 'from' conform to the convention of multiple
    inputs of same time bumping to next actual input
    instead of returning the same over and over

=========== Changes for Bpipe Version 0.9.8_beta_2 ============

-   fixed multi not failing pipeline when an asynchronous
    command fails

-   making filter() conform to the same behavior as
    transform(): when a filter type is repeated, it moves
    to the next input (see google group discussion -
    https://groups.google.com/forum/?fromgroups=#!topic/bpipe-discuss/G58ExlG2Vgo

-   fixed error when reporting notification failures
    to user

-   fixed output extensions not working correctly with
    filter when multiple filters supplied

-   fix multi not actually parallelizing properly in
    some cases

-   fix regression in 'from' not accepting list (added
    test)

-   fixed from with multiple arguments ignoring first
    argument

-   fixed deadlock condition in using "multi" in certain
    cases

=========== Changes for Bpipe Version 0.9.8_beta_1 ============

-   More flexible model for concurrency management, enabling
    management of any kind of resource. Introduction of
    new keyword "uses" to declare resource usage for a block
    and command line options (-m, -l, -n) to control different
    aspects of concurrency

-   Complete re-implementation of dependency analysis so that
    Bpipe understands the depedency graph and can perform
    transitive dependency analysis to allow rerunning piplines
    without rebuilding unnecessary intermediate dependencies.
    (See Issue #2, http://code.google.com/p/bpipe/issues/detail?id=2)
    Includes support for new command line commands, 
    "bpipe query", "bpipe cleanup", and "bpipe preserve" to 
    display and manage dependencies, as well as annotations,
    "@preserved" to declare dependencies that should not be
    deleted in a "cleanup". 

-   support for new 'glob' function available within
    pipeline stages to facilitate pipelines that need to
    use wild card matches on input files.

-   Annotations can be used with lower case now. Upper case 
    still works, but some people feel @transform, @filter,
    etc. looks nicer.

-   Support for parallelizing by chromosome on existing
    files already split by chromosome. If your input files
    are split and named by chromosome, you can use 
    filterInputs parameter to make the existing
    files be used for inputs to the parallelization 
    eg. chr(1..2, filterInputs:true) 

-   Many various bug fixes and improvements to messaging,
    behaviour and output.


